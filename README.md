# 顧客管理システム

このシステムは、Flaskを使用して構築されたシンプルな顧客管理アプリケーションです。ユーザーは顧客情報の表示、追加、編集、テキストデータからのインポート機能を利用できます。

---

## **主な機能**
1. **顧客情報の表示**:
   - データベースに保存されている顧客情報を一覧表示します。

2. **顧客情報の追加**:
   - 新しい顧客情報を手動で入力し、データベースに保存します。

3. **顧客情報の編集**:
   - 既存の顧客情報を編集し、変更を保存します。

4. **テキストファイルからのインポート**:
   - 指定されたフォーマットのテキストファイルから顧客情報を一括でインポートします。

---

## **インストール手順**

1. **リポジトリをクローン**
   ```bash
   git clone <リポジトリURL>
   cd customer-management-system
   ```

2. **仮想環境を作成**
   ```bash
   python -m venv venv
   ```

3. **仮想環境を有効化**
   - Windows:
     ```bash
     venv\Scripts\activate
     ```
   - macOS/Linux:
     ```bash
     source venv/bin/activate
     ```

4. **依存関係をインストール**
   ```bash
   pip install -r requirements.txt
   ```

5. **データベースを初期化**
   - アプリケーションを初めて実行すると、`customers.db` ファイルが自動的に作成されます。

6. **アプリケーションを起動**
   ```bash
   flask run
   ```

7. **ブラウザでアクセス**
   - アプリケーションはデフォルトで `http://127.0.0.1:5000/` で利用可能です。

---

## **データフォーマット**

`data/customers.txt` ファイルの形式:

```
# 顧客情報フォーマット
# 名前,メールアドレス,電話番号
山田太郎,yamada@example.com,09012345678
鈴木花子,suzuki@example.com,08098765432
田中一郎,tanaka@example.com,07011223344
```

- カンマ (`,`) 区切りで名前、メールアドレス、電話番号を指定します。
- コメント行（`#`で始まる行）や空行は無視されます。

---

## **主要なエンドポイント**

| エンドポイント         | メソッド | 説明                       |
|-------------------------|----------|----------------------------|
| `/`                     | GET      | メインメニュー             |
| `/customers`            | GET      | 顧客情報の一覧を表示       |
| `/customers/add`        | GET/POST | 新しい顧客情報を追加       |
| `/customers/edit/<id>`  | GET/POST | 既存の顧客情報を編集       |
| `/customers/import`     | POST     | テキストファイルからインポート |

---

## **プロジェクト構成**

```
customer-management-system/
├── app/
│   ├── __init__.py         # アプリケーション初期化コード
│   ├── app.py              # ルートとロジック
│   ├── models.py           # データベースモデル
│   ├── templates/          # HTMLテンプレート
│       ├── menu.html
│       ├── view_customers.html
│       ├── add_customer.html
│       ├── edit_customer.html
├── customers.db            # データベース（自動作成）
├── data/                   # テキストデータ保存フォルダ
│   ├── customers.txt       # 顧客情報のテキストデータ
├── .env                    # 環境変数（Flask設定やDB接続情報）
├── requirements.txt        # 必要なライブラリ
├── README.md               # 説明書
├── run.py                  # アプリケーション起動用コード
```

---

## **注意事項**
- データをインポートする際は、指定フォーマットに従ったテキストファイルを使用してください。
- このシステムは開発環境での使用を想定しています。本番環境で使用する場合は、適切なセキュリティ対策が必要です。

---

## **ライセンス**
このプロジェクトはMITライセンスの下で提供されています。

